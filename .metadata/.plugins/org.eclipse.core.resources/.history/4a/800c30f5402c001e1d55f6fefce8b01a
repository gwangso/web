package domain;

import java.sql.*;

public class BookDAO {
	//도서등록
	public void insert(BookVO vo) {
		try {
			String sql1="select * from books where isbn=?";
			PreparedStatement ps1 = Database.CON.prepareStatement(sql1);
			ps1.setString(1, vo.getIsbn());
			ResultSet rs = ps1.executeQuery();
			if(!rs.next()) {
				String sql ="insert into TBL_books(isbn,title,authors,publisher,thumbnail,price,pdate,url,contents) values(?,?,?,?,?,?,?,?,?)";
				PreparedStatement ps = Database.CON.prepareStatement(sql);
				ps.setString(1, vo.getIsbn());
				ps.setString(2, vo.getTitle());
				ps.setString(3, vo.getAuthors());
				ps.setString(4, vo.getPublisher());
				ps.setString(5, vo.getThumbnail());
				ps.setInt(6, vo.getPrice());
				ps.setString(7, vo.getPdate());
				ps.setString(8, vo.getUrl());
				ps.setString(9, vo.getContents());				
			}
		} catch (Exception e) {
			System.out.println("도서등록 오류 : " + e.toString());
		}
	}

}
