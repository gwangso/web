<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>

<div class="row">
	<div class="col">
		<h1>저장도서목록</h1>
		<div id="div_list"></div>
	</div>
</div>

<!-- handlebars -->
<script id="temp_list" type="text/x-handlebars-template">
<table class="table align-middle">
	<tr class="table table-dark">
		<td>썸네일</td>
		<td>제목</td>
		<td>저자</td>
		<td>출판사</td>
		<td>가격</td>	
	</tr>
	{{#each documents}}
	<tr>
		<td><img src="{{printImg thumbnail}}" width="50px" index={{@index}} style="cursor: pointer;"></td>			
		<td>{{title}}</td>
		<td>{{authors}}</td>
		<td>{{publisher}}</td>
		<td>{{fmtPrice price}}</td>
	</tr>
	{{/each}}	
</table>
</script>

<script>
	$.ajax({
		type:"get",
		url:"/book/list.json",
		dataType:"json",
		data: {page:},
		success:function(data){
			const com_temp_list = Handlebars.compile($("temp_list").val());
			const html_list = com_temp_list(data);
			$("#div_list").html(html_list);
		}
	})
</script>